# Data

## `data/items/` (source of truth)

Per-item JSON files (e.g. `bandage.json`, `light_shield.json`) with EN-focused fields:

| Field          | Description |
|----------------|-------------|
| `id`           | Snake-case slug (e.g. `arc_alloy`, `combat_mk1`). |
| `name`         | `{ "en": "Display Name", ... }` — use `name.en` for keys in `recipes` / `recycles` / `salvages`. |
| `type`         | e.g. `"Topside Material"`, `"Quick Use"`, `"Shield"`, `"Augment"`. |
| `rarity`       | `"Common"`, `"Uncommon"`, `"Rare"`, `"Epic"`, `"Legendary"`. |
| `foundIn`      | Optional. Where the item is found. |
| `value`        | Sell/value. |
| `weightKg`     | Weight in kg. |
| `stackSize`    | Max stack. |
| `craftBench`   | String or array (e.g. `"refiner"`, `["workbench","med_station"]`). |
| `recipe`       | `{ "material_id": quantity }` — inputs to craft this item. |
| `recyclesInto` | `{ "material_id": quantity }` — outputs when recycled. |
| `salvagesInto` | `{ "material_id": quantity }` — outputs when salvaged. |

**Build script:** `data/scripts/build-from-items.js` generates `recipes.json`, `recycles.json`, and `salvages.json` from `data/items/*.json`. Run from project root:

```bash
node data/scripts/build-from-items.js
```

---

## `data/images/items/`

Item images as `{id}.png` (e.g. `ferro.png`, `light_shield.png`, `angled_grip_i.png`). Filenames (without `.png`) are used as image keys.

**Build script:** `data/scripts/build-item-images.js` (1) copies each `.png` into `assets/images/items/` so Metro/Expo can resolve them, and (2) generates `item-images.generated.ts` at project root with `require('./assets/images/items/...')`. Run from project root after adding or renaming images:

```bash
node data/scripts/build-item-images.js
```

The planner maps planner ids to image keys via `WEAPON_IMAGE_KEYS`, `SHIELD_IMAGE_KEYS`, `AUGMENT_IMAGE_KEYS`, and `BACKPACK_IMAGE_ALIAS` in `app/planner.tsx`.

---

## `backpack-items.json`

Array of item objects. Each object has:

| Field         | Type           | Description |
|---------------|----------------|-------------|
| `Item`        | string         | Item name. |
| `Rarity`      | string         | `"Legendary"`, `"Epic"`, `"Rare"`, `"Uncommon"`, or `"Common"`. |
| `Recycles To` | array \| null  | List of `{ "material": string, "quantity": number }`. `null` if not recyclable. |
| `Sell Price`  | number         | Sell price. |
| `Stack Size`  | number         | Max stack size. |
| `Category`    | string         | e.g. `"Quick Use"`, `"Topside Material"`, `"Refined Material"`, `"Nature"`, `"Recyclable"`. |
| `Quests`      | string \| null | Quest(s) that use this item, or `null`. |
| `Workshop`    | string \| null | Workshop recipe(s) that use this item, or `null`. |

### Rarity values

Stored with capital first letter: `Legendary`, `Epic`, `Rare`, `Uncommon`, `Common`. The planner maps these to the same colors as weapons (gold, pink, blue, green, grey).

### Example

```json
{
  "Item": "Adrenaline Shot",
  "Rarity": "Common",
  "Recycles To": [
    { "material": "Chemicals", "quantity": 1 },
    { "material": "Plastic Parts", "quantity": 1 }
  ],
  "Sell Price": 300,
  "Stack Size": 5,
  "Category": "Quick Use",
  "Quests": null,
  "Workshop": null
}
```

The planner uses this file to populate backpack slot choices. An `id` can be derived from `Item` (e.g. lowercased, spaces to underscores) when needed; `weight` is not in the data and can be defaulted or added later if the game provides it.

---

## `recipes.json`

Generated by `build-from-items.js`. Maps **item `name.en`** to an array of crafting ingredients. Used by the planner for **Materials required**.

| Structure | Description |
|-----------|-------------|
| Key       | `name.en` from `data/items/*.json` (e.g. `"Light Shield"`, `"Combat Mk. 1"`). Must match names in the planner (weapons, shields, augments) or `Item` in `backpack-items.json`. |
| Value     | `[{ "material": string, "quantity": number }, ...]` — recipe inputs; material names are resolved from `data/items` `id` → `name.en`. |

The planner aggregates from: selected augment (except Free Loadout), shield, weapons 1 & 2, and filled backpack/quick use slots. Totals are summed and listed alphabetically.

---

## `recycles.json`

Generated by `build-from-items.js`. Maps **item `name.en`** to outputs when the item is **recycled**.

| Structure | Description |
|-----------|-------------|
| Key       | Item `name.en`. |
| Value     | `[{ "material": string, "quantity": number }, ...]` — materials returned when recycling. |

---

## `salvages.json`

Generated by `build-from-items.js`. Maps **item `name.en`** to outputs when the item is **salvaged**.

| Structure | Description |
|-----------|-------------|
| Key       | Item `name.en`. |
| Value     | `[{ "material": string, "quantity": number }, ...]` — materials returned when salvaging. |
